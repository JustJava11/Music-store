{% extends 'base.html' %}

{% block title %}My Orders{% endblock %}

{% block main %}
<h1>My Orders</h1>

{% if orders %}
  <div class="order-list">
    {% for order in orders %}
      <div class="order-item" style="margin-bottom: 30px; padding: 15px; border: 1px solid #666;">
        <p><strong>Status:</strong> {{ order.status }}</p>
        <p><strong>Order Date:</strong> {{ order.created_at }}</p>

        {% for item in order.items.all %}
          <div class="order-details" style="margin-left: 20px; padding: 10px; border-top: 1px dashed #888;">
            <p><strong>Product:</strong> {{ item.product.title }}</p>
            <p><strong>Quantity:</strong> {{ item.quantity }}</p>
            <p><strong>Price:</strong> ${{ item.price }}</p>
          </div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>You have no orders.</p>
{% endif %}
{% endblock %}
